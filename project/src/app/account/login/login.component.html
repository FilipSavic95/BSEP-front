<div id="main-container">
  <!--<img src="http://www.clicktools.com/wp-content/uploads/2014/07/infosec.jpg" alt="asd" width="500px" height="500px">-->
  <div *ngIf="!loading" class="col-sm-4 col-lg-offset-4">

    <h2 style="text-align: center;"><label> Login </label></h2>

    <div class="alert alert-danger" *ngIf="errorMessage" style="padding: 10px;">
      {{errorMessage}}
    </div>

    <form [formGroup]="form" (ngSubmit)="login()">
      <div class="form-group">
        <label for="username">Username</label>
        <input [(ngModel)]="username"
               type="text"
               id="username"
               class="form-control"
               formControlName="usernameCtrl"
               [formGroup]="form"
               placeholder="Your username">
      </div>
      <div *ngIf="form.controls['usernameCtrl'].touched && !form.controls['usernameCtrl'].valid">
        <div class="alert alert-danger" *ngIf="form.controls['usernameCtrl'].hasError('required')">
          Username is required.
        </div>
        <div class="alert alert-danger" *ngIf="form.controls['usernameCtrl'].hasError('minlength')">
          Username must be longer than 6 characters
        </div>
        <div class="alert alert-danger" *ngIf="form.controls['usernameCtrl'].hasError('maxlength')">
          Username can not be longer than 20 characters.
        </div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input [(ngModel)]="password"
               type="password"
               class="form-control"
               id="password"
               formControlName="passwordCtrl"
               [formGroup]="form"
               placeholder="Your password">
      </div>
      <div *ngIf="form.controls['passwordCtrl'].touched && !form.controls['passwordCtrl'].valid">
        <div class="alert alert-danger" *ngIf="form.controls['passwordCtrl'].hasError('required')">
          Password is required.
        </div>
        <div class="alert alert-danger" *ngIf="form.controls['passwordCtrl'].hasError('minlength')">
          Password must contain at least 6 characters.
        </div>
        <div class="alert alert-danger" *ngIf="form.controls['passwordCtrl'].hasError('maxlength')">
          Password can not be longer than 30 characters.
        </div>
        <div class="alert alert-danger" *ngIf="form.controls.passwordCtrl.errors?.missingSpecial">
          Password must contain a special character (@, #, $ or %).
        </div>
        <div class="alert alert-danger" *ngIf="form.controls.passwordCtrl.errors?.missingNumber">
          Password must contain a number.
        </div>
        <div class="alert alert-danger" *ngIf="form.controls.passwordCtrl.errors?.missingUpper">
          Password must contain an uppercase letter.
        </div>
        <div class="alert alert-danger" *ngIf="form.controls.passwordCtrl.errors?.missingLower">
          Password must contain an lowercase letter.
        </div>
      </div>

      <button class="btn btn-primary btn-lg" type="submit" [disabled]='!form.valid'>Log in</button>
    </form>

  </div>

  <div *ngIf="loading" class="container">
    <div class="col-lg-5"></div>
    <div class="col-lg-4 loader"></div>
    <div class="col-lg-4"></div>

  </div>

</div>
